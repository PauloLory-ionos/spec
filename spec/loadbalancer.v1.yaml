# GENERATED - DO NOT EDIT THIS FILE DIRECTLY
openapi: 3.0.3

servers:
  - url: https://demo.secapi.cloud/providers/seca.load-balancer
    description: Path Schema
  - url: https://load-balancer.seca.demo.secapi.cloud
    description: DNS Schema

info:
  title: Load Balancer
  version: v1
  description: |
    The Load Balancer API provides access to Network Load Balancer resources.
    This API is part of the Sovereign European Cloud API.

security:
  - bearerAuth: []

tags:
  - name: Network Load Balancer
    description: Network Load Balancer management

paths:
  /v1/tenants/{tenant}/workspaces/{workspace}/network-load-balancers:
    get:
      tags:
        - Network Load Balancer
      security:
        - bearerAuth: []
      summary: List network load balancers
      description: |
        Lists network load balancers and provides paginated, filtered access.
      operationId: listNetworkLoadBalancers
      parameters:
        - $ref: './schemas/parameters.yaml#/parameters/tenant'
        - $ref: './schemas/parameters.yaml#/parameters/workspace'
        - $ref: './schemas/parameters.yaml#/parameters/labelSelector'
        - $ref: './schemas/parameters.yaml#/parameters/limitParam'
        - $ref: './schemas/parameters.yaml#/parameters/skipTokenParam'
        - $ref: './schemas/parameters.yaml#/parameters/acceptHeader'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NetworkLoadBalancerIterator"
        '400':
          $ref: './schemas/errors.yaml#/responses/Error400'
        '401':
          $ref: './schemas/errors.yaml#/responses/Error401'
        '403':
          $ref: './schemas/errors.yaml#/responses/Error403'
        '500':
          $ref: './schemas/errors.yaml#/responses/Error500'
  
  /v1/tenants/{tenant}/workspaces/{workspace}/network-load-balancers/{name}:
    get:
      tags:
        - Network Load Balancer
      security:
        - bearerAuth: []
      summary: Get network load balancer
      description: |
        Get a specific network load balancer, useful for polling status updates of resources.
      operationId: getNetworkLoadBalancer
      parameters:
        - $ref: './schemas/parameters.yaml#/parameters/tenant'
        - $ref: './schemas/parameters.yaml#/parameters/workspace'
        - $ref: './schemas/parameters.yaml#/parameters/resourceName'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: './schemas/load-balancer.yaml#/NetworkLoadBalancer'
        '400':
          $ref: './schemas/errors.yaml#/responses/Error400'
        '401':
          $ref: './schemas/errors.yaml#/responses/Error401'
        '403':
          $ref: './schemas/errors.yaml#/responses/Error403'
        '404':
          $ref: './schemas/errors.yaml#/responses/Error404'
        '500':
          $ref: './schemas/errors.yaml#/responses/Error500'
    
    put:
      tags:
        - Network Load Balancer
      security:
        - bearerAuth: []
      summary: Create or update network load balancer
      description: |
        Creates or updates a network load balancer. The return code of the endpoint
        provides indicates if the resource was created or updated. A client
        must accept both as successful response to the request.
      operationId: createOrUpdateNetworkLoadBalancer
      parameters:
        - $ref: './schemas/parameters.yaml#/parameters/tenant'
        - $ref: './schemas/parameters.yaml#/parameters/workspace'
        - $ref: './schemas/parameters.yaml#/parameters/resourceName'
        - $ref: './schemas/parameters.yaml#/parameters/ifUnmodifiedSince'
      requestBody:
        description: |
          Any provided `metadata` on the network load balancer will be ignored by the resource server.
        required: true
        content:
          application/json:
            schema:
              $ref: './schemas/load-balancer.yaml#/NetworkLoadBalancer'
      responses:
        '200':
          description: |
            Network Load Balancer successfully updated, doesn't indicate successful
            resource provisioning.
          content:
            application/json:
              schema:
                $ref: './schemas/load-balancer.yaml#/NetworkLoadBalancer'
        '201':
          description: |
            Network Load Balancer successfully created, doesn't indicate successful
            resource provisioning.
          content:
            application/json:
              schema:
                $ref: './schemas/load-balancer.yaml#/NetworkLoadBalancer'
        '400':
          $ref: './schemas/errors.yaml#/responses/Error400'
        '401':
          $ref: './schemas/errors.yaml#/responses/Error401'
        '403':
          $ref: './schemas/errors.yaml#/responses/Error403'
        '404':
          $ref: './schemas/errors.yaml#/responses/Error404'
        '409':
          $ref: './schemas/errors.yaml#/responses/Error409'
        '412':
          $ref: './schemas/errors.yaml#/responses/Error412'
        '422':
          $ref: './schemas/errors.yaml#/responses/Error422'
        '500':
          $ref: './schemas/errors.yaml#/responses/Error500'
    
    delete:
      tags:
        - Network Load Balancer
      security:
        - bearerAuth: []
      summary: Delete network load balancer
      description: |
        Deletes a network load balancer using the given name. In case the resource workspace
        already deleted `404` is returned. For failure tolerance in case of retry the
        client needs to accept `404` and `202` as a successful deletion. If deletion
        of the resource takes longer deletion can be issued multiple times with the
        same result `202`, in all cased the resource will be only deleted once.
      operationId: deleteNetworkLoadBalancer
      parameters:
        - $ref: './schemas/parameters.yaml#/parameters/tenant'
        - $ref: './schemas/parameters.yaml#/parameters/workspace'
        - $ref: './schemas/parameters.yaml#/parameters/resourceName'
        - $ref: './schemas/parameters.yaml#/parameters/ifUnmodifiedSince'
      responses:
        '202':
          description: Network Load Balancer deletion accepted
        '400':
          $ref: './schemas/errors.yaml#/responses/Error400'
        '401':
          $ref: './schemas/errors.yaml#/responses/Error401'
        '403':
          $ref: './schemas/errors.yaml#/responses/Error403'
        '404':
          $ref: './schemas/errors.yaml#/responses/Error404'
        '412':
          $ref: './schemas/errors.yaml#/responses/Error412'
        '500':
          $ref: './schemas/errors.yaml#/responses/Error500'
    
components:
  securitySchemes:
    $ref: './schemas/security.yaml#/securitySchemes'

  schemas:
    NetworkLoadBalancerIterator:
      description: Iterator for network load balancers
      type: object
      required:
        - items
        - metadata
      properties:
        items:
          description: List of network load balancers
          type: array
          items:
            $ref: './schemas/load-balancer.yaml#/NetworkLoadBalancer'
        metadata:
          $ref: './schemas/resource.yaml#/ResponseMetadata'
