Image:
  type: object
  properties:
    apiVersion:
      type: string
      description: API version of the resource
      default: v1beta1
      readOnly: true
    kind:
      type: string
      description: Type of the resource
      enum: [ image ]
      readOnly: true
    metadata:
      $ref: './resource.yaml#/RegionalResourceMetadata'
    spec:
      type: object
      properties:
        osType:
          type: string
        version:
          type: string
        volumeSnapshotRef:
          type: string
          description: Reference to the snapshot used to create this image
        visiblity:
          type: string
          enum: ['private', 'public']
          description: TODO - that can be done more sophisticated
        cloudInitSupport:
          type: object
          properties:
            supported:
              type: boolean
            version:
              type: string
          description: |
            Indicates cloud-init support for this image. We support cloud-init version 22.4 or newer.
    status:
      type: object
      readOnly: true
      properties:
        state:
          type: string
          enum: ['available', 'unavailable']
        osType:
          type: string
        version:
          type: string
        cloudInitSupport:
          type: object
          properties:
            supported:
              type: boolean
            version:
              type: string
