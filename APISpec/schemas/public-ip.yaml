PublicIp:
  type: object
  description: Represents a public IP address that can be assigned to network resources
  properties:
    apiVersion:
      type: string
      description: API version of the resource
      default: v1alpha1
      readOnly: true
    kind:
      type: string
      description: Type of the resource
      enum: [ public-ip ]
      readOnly: true
    metadata:
      $ref: './resource.yaml#/RegionalResourceMetadata'
    spec:
      type: object
      description: Specification of the public IP
      properties:
        ipAddress:
          type: string
          description: The public IP address
        ipVersion:
          type: string
          description: IP version of the address (limited to IPv4 for now)
          enum:
            - IPv4
        type:
          type: string
          description: Type of public IP allocation
          enum:
            - Static
            - Dynamic
          default: Static
        assignedTo:
          type: array
          description: References to resources this IP is assigned to
          items:
            type: object
            properties:
              kind:
                type: string
                description: Kind of resource the IP is assigned to
              name:
                type: string
                description: Name of the resource the IP is assigned to
    status:
      type: object
      readOnly: true
      description: Current status of the public IP
      properties:
        state:
          $ref: './resource.yaml#/ResourceState'
        conditions:
          example:
            - type: "allocation"
              status: "allocated"
              lastTransitionTime: "2024-11-21T14:39:22Z"
              reason: "IpAddressAssigned"
              message: "Public IP address has been assigned"
            - type: "binding"
              status: "bound"
              lastTransitionTime: "2024-11-21T14:39:22Z"
              reason: "BoundToResource"
              message: "IP is bound to a resource"
          allOf:
            - type: array
              items:
                type: object
                enum:
                  - type: "allocation"
                    status: "allocated"
                  - type: "allocation"
                    status: "released"
                  - type: "binding"
                    status: "bound"
                  - type: "binding"
                    status: "unbound"
            - $ref: "./resource.yaml#/StatusConditions"
