Instance:
  type: object
  properties:
    metadata:
      $ref: './resource.yaml#/ResourceMetadata'
    spec:
      type: object
      properties:
        profile:
          type: string
        placement:
          type: object
          properties:
            strategy:
              type: string
              enum: ['zone', 'auto', 'anti-affinity']
            zone:
              type: string
            antiAffinityGroup:
              type: string
          required:
            - strategy
        nics:
          type: array
          items:
            $ref: './nic.yaml#/NIC'
        cloudInitUserData:
          type: string
          description: |
            Cloud-init user data for instance initialization
            Example cloud-init user configuration with SSH key:
            ```yaml
            #cloud-config
            ssh_authorized_keys:
              - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0g+ZTxC7weoIJLUafOgrm+h...
            ```
        attachedBlockStorageRef:
          type: array
          items:
            type: string
    status:
      type: object
      readOnly: true
      properties:
        state:
          type: string
          enum: ['provisioning', 'running', 'terminating']
        profile:
          type: string
        placement:
          type: object
          properties:
            strategy:
              type: string
              enum: ['zone', 'auto', 'anti-affinity']
            zone:
              type: string
            antiAffinityGroup:
              type: string
        nics:
          type: array
          items:
            $ref: './nic.yaml#/NIC'
        attachedBlockStorage:
          type: array
          items:
            type: string
        conditions:
          $ref: "./resource.yaml#/StatusConditions"
