Error:
  type: object
  required:
    - errors
  properties:
    errors:
      type: array
      items:
        $ref: '#/ErrorDetail'

ErrorDetail:
  type: object
  required:
    - status
    - code
    - title
  properties:
    status:
      type: string
      description: The HTTP status code applicable to this problem, expressed as a string value.
    code:
      type: string
      description: An application-specific error code, expressed as a string value.
    title:
      type: string
      description: A short, human-readable summary of the problem.
    detail:
      type: string
      description: A human-readable explanation specific to this occurrence of the problem.
    source:
      type: object
      description: An object containing references to the source of the error.
      properties:
        pointer:
          type: string
          description: A JSON Pointer [RFC6901] to the associated entity in the request document.
        parameter:
          type: string
          description: A string indicating which URI query parameter caused the error.
    meta:
      type: object
      description: A meta object containing non-standard meta-information about the error.

Error400:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "400"
            code: "INVALID_REQUEST"
            title: "Bad Request"
            detail: "The request was invalid or cannot be served."

Error401:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "401"
            code: "UNAUTHORIZED"
            title: "Unauthorized"
            detail: "Authentication is required and has failed or has not been provided."

Error403:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "403"
            code: "FORBIDDEN"
            title: "Forbidden"
            detail: "The request was valid, but the server is refusing action."

Error404:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "404"
            code: "RESOURCE_NOT_FOUND"
            title: "Not Found"
            detail: "The requested resource could not be found."

Error422:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "422"
            code: "VALIDATION_ERROR"
            title: "Unprocessable Entity"
            detail: "The request was well-formed but was unable to be followed due to semantic errors."
            source:
              pointer: "/data/attributes/username"

Error500:
  allOf:
    - $ref: '#/Error'
    - type: object
      example:
        errors:
          - status: "500"
            code: "INTERNAL_SERVER_ERROR"
            title: "Internal Server Error"
            detail: "The server encountered an unexpected condition that prevented it from fulfilling the request."
