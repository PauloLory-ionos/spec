InstanceSku:
  type: object
  description: |
    Represents a Stock Keeping Unit (SKU) for compute instances.

    Properties, capabilites and extensions can also be found in the metadata.labels sections for filtering.
  properties:
    apiVersion:
      type: string
      description: API version of the resource
      default: v1beta1
      readOnly: true
    kind:
      type: string
      description: Type of the resource
      enum: [ instance-sku ]
      readOnly: true
    metadata:
      allOf:
        - $ref: './resource.yaml#/RegionalResourceMetadata'
        - type: object
          properties:
            labels:
              $ref: '#/InstanceSku/properties/spec/allOf/1/properties/capabilities'
    spec:
      example:
        - { provider: 'SECA', tier: 'seca.s',  vCPU:  2, ramGB:  4, benchmarkPoints:  3000 }
        - { provider: 'SECA', tier: 'seca.m',  vCPU:  4, ramGB:  8, benchmarkPoints:  6000 }
        - { provider: 'SECA', tier: 'seca.l',  vCPU:  8, ramGB: 16, benchmarkPoints: 12000 }
        - { provider: 'SECA', tier: 'seca.xl', vCPU: 16, ramGB: 32, benchmarkPoints: 24000 }
      allOf:
        - type: object
          enum:
            - { provider: 'SECA', tier: 'seca.s',  vCPU:  2, ramGB:  4, benchmarkPoints:  3000 }
            - { provider: 'SECA', tier: 'seca.m',  vCPU:  4, ramGB:  8, benchmarkPoints:  6000 }
            - { provider: 'SECA', tier: 'seca.l',  vCPU:  8, ramGB: 16, benchmarkPoints: 12000 }
            - { provider: 'SECA', tier: 'seca.xl', vCPU: 16, ramGB: 32, benchmarkPoints: 24000 }
        - type: object
          properties:
            provider:
              type: string
              description: Provider namespace for instance SKUs
            tier:
              type: string
            capabilities:
              additionalProperties: true
              type: object
              description: Instance performance capabilities
              properties:
                benchmarkPoints:
                  type: integer
                vCPU:
                  type: integer
                ramGB:
                  type: integer
            extensions:
              type: array
              description: Additional instance feature extensions
              items:
                type: string
            mandatoryParameters:
              type: array
              description: Mandatory parameters for block storage resources
              items:
                type: string
            description:
              type: string

    status:
      type: object
      readOnly: true
      properties:
        conditions:
          $ref: "./resource.yaml#/StatusConditions"
